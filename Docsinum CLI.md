# Retype CLI

Docsinum CLI имеет простой и понятный интерфейс. Большую часть времени вам потребуется запустить всего одну команду: `docsinum start`

!!!
Обязательно ознакомьтесь с доступными настройками [проекта](/configuration/project.md) в **retype.yml**, так как это открывает больше возможностей, гибкости и настройки.
!!!

Опция `--help` может быть передана с любой командой, чтобы получить дополнительную информацию, например, `retype start --help` вернет все доступные опции для команды `retype start`.

Команда `retype --version` вернет текущую версию вашей установки Docsinum. Смотрите все публичные релизы [Docsinum](https://github.com/retypeapp/retype/releases).

Давайте рассмотрим каждую из команд `retype` CLI, не забывайте ознакомиться с [Руководством](/guides/getting-started.md) по началу работы, чтобы получить пошаговую инструкцию по использованию каждой из этих команд.
```
Описание:
  Retype CLI

Использование:
  retype [команда] [опции]

Опции:
  --info          Показать информацию о Retype
  --version       Показать информацию о версии
  -?, -h, --help  Показать справку и информацию по использованию

Команды:
  start <path>  Собрать и запустить проект с использованием локального сервера разработки
  init  <path>  Создать новый проект Retype
  build <path>  Сгенерировать статический веб-сайт на основе проекта
  serve <path>  Запустить веб-сайт с использованием локального сервера разработки
  clean <path>  Очистить каталог вывода
  wallet        Управление секретными лицензионными ключами Retype
```

---

## `docsinum start`

Команда `docsinum start` - самый простой способ создать ваш проект и запустить его в браузере всего за несколько секунд.

```
docsinum start
```
Команда `docsinum start` также отслеживает изменения в файлах и автоматически обновляет веб-сайт в вашем веб-браузере с обновленной страницей.

Команда `docsinum start` автоматически открывает веб-браузер по умолчанию на вашем компьютере и загружает веб-сайт в браузер. Вы можете отключить эту автоматическую открытие веб-браузера по умолчанию, передав флаг `--no-open` или его псевдоним `-n`.

```
docsinum start -n
```
### Options

```
Описание:
  Создание проекта и запуск его с использованием локального сервера только для разработки

Использование:
  retype start [<путь>] [опции]

Аргументы:
  <путь>  Путь к корню проекта или файлу конфигурации проекта [Необязательно]

Опции:
  --secret <секрет>      Ключ лицензии Retype
  --password <пароль>    Пароль для защиты приватных страниц
  --host <хост>          Пользовательское имя хоста или IP-адрес
  --port <порт>          Пользовательский TCP-порт
  -n, --no-open          Предотвратить автоматическое открытие веб-браузера по умолчанию
  -v, --verbose          Включить подробное логгирование
  -a, --api              Отслеживать изменения в API
  -?, -h, --help         Показать справку и информацию об использовании
```

!!!опасность
В то время как технически возможно разместить ваш веб-сайт публично, используя `retype start` и встроенный веб-сервер Docsinum, **НЕ ДЕЛАЙТЕ ЭТО**.

Вы должны использовать специализированный сервис хостинга веб-сайтов, такой как [GitHub Pages](/hosting/github-pages.md), [Netlify](https://www.netlify.com/) или любой другой сервис веб-хостинга.

Если вы _действительно действительно действительно_ хотите попробовать публичный хостинг с использованием встроенного веб-сервера, воспользуйтесь [`docsinum serve`](#docsinum-serve).
!!!

---

## `docsinum init`

Вы можете вручную создать файл **retype.yml**, или Retype может создать основной файл с несколькими начальными значениями с помощью команды `retype init`.

Из командной строки перейдите к любой папке, в которой у вас есть один или несколько файлов разметки Markdown **.md**, таких как корень проекта на GitHub, а затем выполните следующую команду:

```
docsinum init
```

Вызов команды `docsinum init` создаст простой файл **retype.yml** со следующими значениями по умолчанию:

{%{
```yml Sample retype.yml
input: .
output: .retype
url: example.com # Add your website address here
branding:
  title: Project Name
  label: Docs
links:
  - text: Getting Started
    link: https://retype.com/guides/getting-started/
footer:
  copyright: "&copy; Copyright {{ year }}. All rights reserved."
```
}%}

Все конфигурации являются опциональными, но приведенный выше пример демонстрирует несколько из наиболее часто используемых параметров. См. документацию по конфигурации [проекта](/configuration/project.md) для полного списка всех доступных опций.

Чтобы изменить название проекта, измените значение конфигурации `branding.title`. Например, давайте изменим его на `Комания X`:

```yml
branding:
  title: Компания X
```

Если в проекте уже существует файл **docsinum.yml**, выполнение команды `docsinum init` не создаст новый файл **docsinum.yml**.

Файл **docsinum.yml** фактически _необязателен_, но вы захотите настроить [конфигурации](/configuration/project.md) проекта, и именно так передаются инструкции в Docsinum.

### Опции

```
Описание:
  Инициализировать новый проект Retype

Использование:
  retype init [<путь>] [опции]

Аргументы:
  <путь>  Путь к корневой папке проекта [Опционально]

Опции:
  --override <override>  Переопределение конфигурации в формате JSON для замены значений конфигурации Retype
  -v, --verbose          Включить подробное логирование
  -?, -h, --help         Показать информацию о помощи и использовании
```

///region override
### `--override`

См. документацию по [`--override`](#docsinum---override) ниже для дополнительной информации.

///endregion

---

## `docsinum build`

Чтобы сгенерировать ваш новый веб-сайт, выполните команду `docsinum build`. Эта команда создает новый веб-сайт на основе файлов **.md** в указанной [`input`](/configuration/project.md) папке..

```
docsinum build
```

За считанные секунды Docsinum создаст новый веб-сайт и сохранит его в `output` месте, определенном в файле **docsinum.yml**. По умолчанию, `output` - новая папка с именем `.docsinum`. Вы можете изменить название или настроить путь для сохранения вывода в любое другое место, например, в другую подпапку.

Если файлы **.md** документации вашего проекта не находятся в корне (`.`), а в папке `docs`, и вы хотите, чтобы Retype отправлял вывод в папку `website`, вы можете использовать следующую конфигурацию:

```yml
input: docs
output: website
```

Допустим, вы хотите, чтобы ваш новый веб-сайт Retype был размещен внутри папки `docs`, расположенной в корневой папке `website`. Тогда вы можете настроить следующим образом:

```yml
input: docs
output: website/docs
```

Если вы размещаете свой веб-сайт с использованием [GitHub Pages](https://docs.github.com/en/github/working-with-github-pages/creating-a-github-pages-site) и хотите разместить веб-сайт из папки `docs`, вы можете переместить свои файлы **.md** в другую подпапку и настроить следующим образом:

```yml
input: src
output: docs
```

Конфигурации `input` и `output` предоставляют неограниченные возможности для указания Retype, откуда получать содержимое и файлы конфигурации вашего проекта и куда выводить сгенерированный веб-сайт.

### Options

```
Описание:
Генерирует статический веб-сайт из проекта.

Использование:
retype build [<путь>] [опции]

Аргументы:
<путь> - Путь к корневой папке проекта или файлу конфигурации проекта [необязательно].

Опции:
--output <output> - Пользовательский путь к каталогу для вывода.

--secret <secret> - Ключ лицензии Retype.

--password <password> - Пароль для доступа к закрытой странице.

--override <override> - Переопределение конфигурации проекта в формате JSON.

-w, --watch - Отслеживать изменения файлов.

-v, --verbose - Включить подробное логирование.

-a, --api - Отслеживать изменения в API.

-, -h, --help - Показать информацию о помощи и использовании.
```

{{ include "cli.md#override" }}

## `docsinum serve`

Команда `docsinum serve` запускает локальный веб-сервер только для разработки и размещает ваш веб-сайт..

```
docsinum serve
```

Сгенерированный Docsinum веб-сайт является статическим сайтом HTML и JavaScript. Нет необходимости в специальном сервере, таком как Node, PHP или Ruby. Сгенерированный веб-сайт Retype может размещаться на любом веб-сервере или хостинг-сервисе, таком как [GitHub Pages](https://docs.github.com/en/github/working-with-github-pages/creating-a-github-pages-site), [GitLab Pages](https://docs.gitlab.com/ee/user/project/pages/), [Netlify](https://www.netlify.com/) или [Cloudflare Pages](https://pages.cloudflare.com/).

Вы также можете использовать любой другой локальный веб-сервер вместо `docsinum serve`. Docsinum включает веб-сервер из соображений удобства, а не обязательности. Любой веб-сервер подойдет. Несколько других простых вариантов веб-серверов могут быть [live-server](https://www.npmjs.com/package/live-server) или [static-server](https://www.npmjs.com/package/static-server).

### Опции

```
Описание:
  Размещение веб-сайта на локальном веб-сервере только для разработки

Использование:
  retype serve [<путь>] [опции]

Аргументы:
  <путь>  Путь к корневой папке проекта или файлу конфигурации проекта (опционально)

Опции:
  --host <host>   Пользовательское имя хоста или IP-адрес
  --port <port>   Пользовательский TCP-порт
  -l, --live      Перезагрузка открытых браузеров при обнаружении изменений в выводе проекта
  -v, --verbose   Включить подробное логирование
  -?, -h, --help  Показать информацию о помощи и использовании
```

{{ include "cli.md#override" }}

---

## `docsinum clean`

Команда `docsinum clean` удалит управляемые Docsinum файлы из папки `output`..

Если вы добавите файлы в `output` вручную или другой процесс добавит файлы, эти файлы не будут удалены с помощью `docsinum clean`.

Включение флага `--dry` запускает пробный запуск команды и показывает список файлов, которые _**будут**_ удалены, если флаг `--dry` не указан.

### Options

```
Описание:
  Очистка каталога вывода

Использование:
  retype clean [<путь>] [опции]

Аргументы:
  <путь>  Путь к корневой папке проекта или файлу конфигурации проекта (опционально)

Опции:
  --dry           Вывести список файлов и каталогов, которые будут удалены
  -v, --verbose   Включить подробное логирование
  -?, -h, --help  Показать информацию о помощи и использовании
```
---

## `docsinum wallet`

Команда `docsinum wallet`` используется для управления лицензионными ключами Docsinum.

Лицензионные ключи Docsinum хранятся в зашифрованном файле кошелька под названием license.dat.

Чтобы добавить лицензионный ключ Docsinum в свой кошелек, выполните следующую команду:

```
docsinum wallet --add <ваш-лицензионный-ключ-здесь>
```

После добавления лицензионного ключа в кошелек его повторно добавлять не требуется. Ключ сохраняется в кошельке, и Retype будет считывать его из кошелька при будущих сборках.

Лицензионный ключ Docsinum также может быть передан во время сборки. Ключ НЕ хранится в кошельке. Ключ должен быть передан при каждом вызове `docsinum build`.

```
docsinum build --secret <ваш-лицензионный-ключ-здесь>
```

### DOCSINUM_SECRET

Ознакомьтесь с тем, как настроить переменную окружения [`DOCSINUM_SECRET`](../configuration/envvars.md/#retype_secret) для установки лицензионного ключа проекта в процессе выполнения.

### Options

```
Описание:
  Управление тайными лицензионными ключами Retype

Использование:
  docsinum wallet [опции]

Опции:
  --add <secret>     Добавить тайный лицензионный ключ в кошелек
  --remove <secret>  Удалить тайный лицензионный ключ из кошелька
  --list             Вывести список сохраненных тайных лицензионных ключей
  --clear            Очистить кошелек
  -?, -h, --help     Показать информацию о помощи и использовании
```

---

## `docsinum --override`

Команда Docsinum CLI [`build`](#retype-build) поддерживает опцию --override, которая позволяет динамически изменять конфигурации проекта **retype.yml** во время сборки.

Опция `--override` полезна в определенных сценариях, например, при генерации веб-сайтов с разными конфигурациями `url` без необходимости поддерживать несколько файлов **retype.yml**.

CLI ожидает, что в качестве значения опции будет передан объект json с экранированием.

Retype объединяет конфигурацию **retype.yml** с предоставленным объектом json таким образом, что конфигурации из json override, которые сталкиваются, перезаписывают значения **retype.yml**.

!!!
Объект json `--override` может содержать дублирующиеся ключи, которые будут обработаны последовательно. Последний побеждает.
!!!

### Базовая конфигурация

Используя следующий файл конфигурации проекта **retype.yml** в качестве примера:

~~~yml **retype.yml**
url: https://retype.com
~~~

Следующая команда соберет веб-сайт с URL-адресом  `https://beta.docsinum.ru`.

```
docsinum build --override "{ \"url\": \"https://beta.docsinum.ru\" }"
```

### Вложенная конфигурация

Следующий пример демонстрирует переопределение более сложного объекта конфигурации.

Используя следующий файл конфигурации проекта **retype.yml** в качестве примера, давайте измените [`label`](/configuration/project.md#label) на `beta` вместо `v1.10`..

~~~yml **retype.yml**
branding:
  title: Retype
  label: v1.10
~~~

Команда `docsinum build --override` будет выглядеть следующим образом::

```
docsinum build --override "{ \"branding\": { \"label\": \"beta\"} }"
```

Чтобы полностью удалить все конфигурации в `branding`, передайте `null`:

```
docsinum build --override "{ \"branding\": null }"
```

### Добавление в список

Следующая команда добавит ссылку на `GitHub` в список [`links`](/configuration/project.md#links).

~~~yml **retype.yml**
links:
  - link: Retype
    text: https://retype.com
~~~

```
docsinum build --override "{ \"links\": [{ \"link\": \"https://github.com/retypeapp/retype\", \"text\": \"GitHub\" }] }"
```

### Удаление конфигурации

Передача значения `null` удалит соответствующее значение конфигурации.

В следующем примере веб-сайт будет собран так, будто `url` не был настроен.

```
docsinum build --override "{ \"url\": null }"
```
